#!/usr/bin/python3
# SPDX-FileCopyrightText: 2025 Kanta Hirazawa
# SPDX-License-Identifier: BSD-3-Clause

import sys

def ad_to_wareki(year):
    if year >= 2019:
        return f"令和{year - 2018}年"
    elif year >= 1989:
        return f"平成{year - 1988}年"
    elif year >= 1926:
        return f"昭和{year - 1925}年"
    elif year >= 1912:
        return f"大正{year - 1911}年"
    elif year >= 1868:
        return f"明治{year - 1867}年"
    else:
        return "明治以前"

def wareki_to_ad(era_char, year_num):
    if era_char == 'r':
        return 2018 + year_num
    elif era_char == 'h':
        return 1988 + year_num
    elif era_char == 's':
        return 1925 + year_num
    elif era_char == 't':
        return 1911 + year_num
    elif era_char == 'm':
        return 1867 + year_num
    else:
        return None

def main():
    for line in sys.stdin:
        line = line.strip()
        if not line:
            continue

        if line.isdigit():
            print(ad_to_wareki(int(line)))
        
        else:
            first_char = line[0].lower()
            rest_str = line[1:]

            if rest_str.isdigit():
                ad_year = wareki_to_ad(first_char, int(rest_str))
                if ad_year:
                    print(ad_year)
                else:
                    print(f"不明な元号:{line}", file=sys.stderr)
                    sys.exit(1)
            else:
                print(f"計算不可: {line}", file=sys.stderr)
                sys.exit(1)

if __name__ == "__main__":
    main()
